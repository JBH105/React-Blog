{"ast":null,"code":"var _jsxFileName = \"/home/ts/Documents/JaydeepB/React-project/reactblogweb/src/Pages/User/UserPost.jsx\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport React, { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport { Card } from \"react-bootstrap\";\nimport \"../../App.css\";\nimport ImageMain from \"../Home/Components/ImageMain\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction UserPost() {\n  _s();\n\n  const token = localStorage.getItem(\"token\");\n  const [Image, setImage] = useState(\"\");\n  const [userimage, setUserImage] = useState(\"\");\n  const [title, settitle] = useState(\"\");\n  const [comment, setcomment] = useState(\"\");\n  const [reload, setReload] = useState(true);\n\n  const pagereload = () => {\n    setReload(!reload);\n    console.log(\"changed\");\n  };\n\n  function onHandler(e) {\n    setImage(e.target.files[0]);\n    console.log(e.target.files[0]); //   console.log(Image);\n  }\n\n  const postData = [{\n    title: JSON.stringify(title),\n    comment: JSON.stringify(comment)\n  }];\n  console.log(postData);\n\n  function getSave(e) {\n    e.preventDefault();\n    const datafile = new FormData(); // console.log(data)\n\n    datafile.append(\"file\", Image);\n    datafile.append(\"title\", title);\n    datafile.append(\"comment\", comment);\n    console.log(datafile);\n    axios({\n      url: \"http://localhost:8080/upload\",\n      method: \"post\",\n      data: datafile,\n      headers: {\n        Authentication: token\n      }\n    }).then(res => {\n      console.log(res); // setReload(!reload)\n    });\n  }\n\n  useEffect(async () => {\n    try {\n      await axios.get(\"http://localhost:8080/getImage\", {\n        headers: {\n          Authentication: token\n        }\n      }).then(d => {\n        setUserImage(d.data == true);\n      });\n    } catch {\n      console.log(\"error\");\n    }\n  }, [reload]); // console.log(userimage);\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      style: {\n        margin: \"0 auto\",\n        backgroundColor: \"oldlace\"\n      },\n      className: \" col-lg-4 col-md-6 col-sm-8 col-11\",\n      children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n        children: \"Share Post\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Title\",\n        onChange: e => {\n          settitle(e.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        placeholder: \"Comment\",\n        onChange: e => {\n          setcomment(e.target.value);\n        },\n        cols: \"30\",\n        rows: \"10\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n        children: \"Upload Image*\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        encType: \"multipart/form-data\",\n        onChange: onHandler\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: getSave,\n        children: \"Save\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: userimage && userimage.map((props, i) => /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: /*#__PURE__*/_jsxDEV(ImageMain, {\n          jdh: pagereload,\n          image: props.Image,\n          title: props.title,\n          comment: props.comment,\n          id: props._id\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(UserPost, \"uaQTY12mz1RDIR/ITqfAeFaenTQ=\");\n\n_c = UserPost;\nexport default UserPost;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserPost\");","map":{"version":3,"sources":["/home/ts/Documents/JaydeepB/React-project/reactblogweb/src/Pages/User/UserPost.jsx"],"names":["axios","React","useState","useEffect","Card","ImageMain","UserPost","token","localStorage","getItem","Image","setImage","userimage","setUserImage","title","settitle","comment","setcomment","reload","setReload","pagereload","console","log","onHandler","e","target","files","postData","JSON","stringify","getSave","preventDefault","datafile","FormData","append","url","method","data","headers","Authentication","then","res","get","d","margin","backgroundColor","value","map","props","i","_id"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,SAAT,QAA0B,OAA1B;AACA,SAASC,IAAT,QAAqB,iBAArB;AACA,OAAO,eAAP;AACA,OAAOC,SAAP,MAAsB,8BAAtB;;;;AAEA,SAASC,QAAT,GAAoB;AAAA;;AAClB,QAAMC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;AACA,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBT,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACU,SAAD,EAAYC,YAAZ,IAA4BX,QAAQ,CAAC,EAAD,CAA1C;AACA,QAAM,CAACY,KAAD,EAAQC,QAAR,IAAoBb,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACc,OAAD,EAAUC,UAAV,IAAwBf,QAAQ,CAAC,EAAD,CAAtC;AACA,QAAM,CAACgB,MAAD,EAASC,SAAT,IAAsBjB,QAAQ,CAAC,IAAD,CAApC;;AACA,QAAMkB,UAAU,GAAG,MAAM;AACvBD,IAAAA,SAAS,CAAC,CAACD,MAAF,CAAT;AACAG,IAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACD,GAHD;;AAKA,WAASC,SAAT,CAAmBC,CAAnB,EAAsB;AACpBb,IAAAA,QAAQ,CAACa,CAAC,CAACC,MAAF,CAASC,KAAT,CAAe,CAAf,CAAD,CAAR;AACAL,IAAAA,OAAO,CAACC,GAAR,CAAYE,CAAC,CAACC,MAAF,CAASC,KAAT,CAAe,CAAf,CAAZ,EAFoB,CAGpB;AACD;;AACD,QAAMC,QAAQ,GAAG,CACf;AACEb,IAAAA,KAAK,EAAEc,IAAI,CAACC,SAAL,CAAef,KAAf,CADT;AAEEE,IAAAA,OAAO,EAAEY,IAAI,CAACC,SAAL,CAAeb,OAAf;AAFX,GADe,CAAjB;AAMAK,EAAAA,OAAO,CAACC,GAAR,CAAYK,QAAZ;;AAEA,WAASG,OAAT,CAAiBN,CAAjB,EAAoB;AAClBA,IAAAA,CAAC,CAACO,cAAF;AACA,UAAMC,QAAQ,GAAG,IAAIC,QAAJ,EAAjB,CAFkB,CAIlB;;AACAD,IAAAA,QAAQ,CAACE,MAAT,CAAgB,MAAhB,EAAwBxB,KAAxB;AACAsB,IAAAA,QAAQ,CAACE,MAAT,CAAgB,OAAhB,EAAyBpB,KAAzB;AACAkB,IAAAA,QAAQ,CAACE,MAAT,CAAgB,SAAhB,EAA2BlB,OAA3B;AAEAK,IAAAA,OAAO,CAACC,GAAR,CAAYU,QAAZ;AAEAhC,IAAAA,KAAK,CAAC;AACJmC,MAAAA,GAAG,EAAE,8BADD;AAEJC,MAAAA,MAAM,EAAE,MAFJ;AAGJC,MAAAA,IAAI,EAAEL,QAHF;AAIJM,MAAAA,OAAO,EAAE;AACPC,QAAAA,cAAc,EAAEhC;AADT;AAJL,KAAD,CAAL,CAOGiC,IAPH,CAOSC,GAAD,IAAS;AACfpB,MAAAA,OAAO,CAACC,GAAR,CAAYmB,GAAZ,EADe,CAEf;AACD,KAVD;AAWD;;AACDtC,EAAAA,SAAS,CAAC,YAAY;AACpB,QAAI;AACF,YAAMH,KAAK,CACR0C,GADG,CACC,gCADD,EACmC;AACrCJ,QAAAA,OAAO,EAAE;AACPC,UAAAA,cAAc,EAAEhC;AADT;AAD4B,OADnC,EAMHiC,IANG,CAMGG,CAAD,IAAO;AACX9B,QAAAA,YAAY,CAAC8B,CAAC,CAACN,IAAF,IAAU,IAAX,CAAZ;AACD,OARG,CAAN;AASD,KAVD,CAUE,MAAM;AACNhB,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACD;AACF,GAdQ,EAcN,CAACJ,MAAD,CAdM,CAAT,CAhDkB,CA+DlB;;AACA,sBACE;AAAA,4BACE;AAAA;AAAA;AAAA;AAAA,YADF,eAEE;AAAA;AAAA;AAAA;AAAA,YAFF,eAGE,QAAC,IAAD;AACE,MAAA,KAAK,EAAE;AAAE0B,QAAAA,MAAM,EAAE,QAAV;AAAoBC,QAAAA,eAAe,EAAE;AAArC,OADT;AAEE,MAAA,SAAS,EAAC,oCAFZ;AAAA,8BAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAJF,eAKE;AACE,QAAA,IAAI,EAAC,MADP;AAEE,QAAA,WAAW,EAAC,OAFd;AAGE,QAAA,QAAQ,EAAGrB,CAAD,IAAO;AACfT,UAAAA,QAAQ,CAACS,CAAC,CAACC,MAAF,CAASqB,KAAV,CAAR;AACD;AALH;AAAA;AAAA;AAAA;AAAA,cALF,eAYE;AAAA;AAAA;AAAA;AAAA,cAZF,eAaE;AACE,QAAA,WAAW,EAAC,SADd;AAEE,QAAA,QAAQ,EAAGtB,CAAD,IAAO;AACfP,UAAAA,UAAU,CAACO,CAAC,CAACC,MAAF,CAASqB,KAAV,CAAV;AACD,SAJH;AAKE,QAAA,IAAI,EAAC,IALP;AAME,QAAA,IAAI,EAAC;AANP;AAAA;AAAA;AAAA;AAAA,cAbF,eAqBE;AAAA;AAAA;AAAA;AAAA,cArBF,eAsBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAtBF,eAuBE;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,OAAO,EAAC,qBAA3B;AAAiD,QAAA,QAAQ,EAAEvB;AAA3D;AAAA;AAAA;AAAA;AAAA,cAvBF,eAwBE;AAAA;AAAA;AAAA;AAAA,cAxBF,eAyBE;AAAQ,QAAA,OAAO,EAAEO,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAzBF;AAAA;AAAA;AAAA;AAAA;AAAA,YAHF,eA8BE;AAAA;AAAA;AAAA;AAAA,YA9BF,eA+BE;AAAA;AAAA;AAAA;AAAA,YA/BF,eAgCE;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA,gBACGlB,SAAS,IACRA,SAAS,CAACmC,GAAV,CAAc,CAACC,KAAD,EAAQC,CAAR,kBACZ;AAAA,+BACE,QAAC,SAAD;AACE,UAAA,GAAG,EAAE7B,UADP;AAEE,UAAA,KAAK,EAAE4B,KAAK,CAACtC,KAFf;AAGE,UAAA,KAAK,EAAEsC,KAAK,CAAClC,KAHf;AAIE,UAAA,OAAO,EAAEkC,KAAK,CAAChC,OAJjB;AAKE,UAAA,EAAE,EAAEgC,KAAK,CAACE;AALZ;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cADF;AAFJ;AAAA;AAAA;AAAA;AAAA,YAhCF;AAAA,kBADF;AAiDD;;GAjHQ5C,Q;;KAAAA,Q;AAmHT,eAAeA,QAAf","sourcesContent":["import axios from \"axios\";\nimport React, { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport { Card } from \"react-bootstrap\";\nimport \"../../App.css\";\nimport ImageMain from \"../Home/Components/ImageMain\";\n\nfunction UserPost() {\n  const token = localStorage.getItem(\"token\");\n  const [Image, setImage] = useState(\"\");\n  const [userimage, setUserImage] = useState(\"\");\n  const [title, settitle] = useState(\"\");\n  const [comment, setcomment] = useState(\"\");\n  const [reload, setReload] = useState(true);\n  const pagereload = () => {\n    setReload(!reload);\n    console.log(\"changed\");\n  };\n\n  function onHandler(e) {\n    setImage(e.target.files[0]);\n    console.log(e.target.files[0]);\n    //   console.log(Image);\n  }\n  const postData = [\n    {\n      title: JSON.stringify(title),\n      comment: JSON.stringify(comment),\n    },\n  ];\n  console.log(postData);\n\n  function getSave(e) {\n    e.preventDefault();\n    const datafile = new FormData();\n\n    // console.log(data)\n    datafile.append(\"file\", Image);\n    datafile.append(\"title\", title);\n    datafile.append(\"comment\", comment);\n\n    console.log(datafile);\n\n    axios({\n      url: \"http://localhost:8080/upload\",\n      method: \"post\",\n      data: datafile,\n      headers: {\n        Authentication: token,\n      },\n    }).then((res) => {\n      console.log(res);\n      // setReload(!reload)\n    });\n  }\n  useEffect(async () => {\n    try {\n      await axios\n        .get(\"http://localhost:8080/getImage\", {\n          headers: {\n            Authentication: token,\n          },\n        })\n        .then((d) => {\n          setUserImage(d.data == true);\n        });\n    } catch {\n      console.log(\"error\");\n    }\n  }, [reload]);\n  // console.log(userimage);\n  return (\n    <>\n      <br />\n      <br />\n      <Card\n        style={{ margin: \"0 auto\", backgroundColor: \"oldlace\" }}\n        className=\" col-lg-4 col-md-6 col-sm-8 col-11\"\n      >\n        <h5>Share Post</h5>\n        <input\n          type=\"text\"\n          placeholder=\"Title\"\n          onChange={(e) => {\n            settitle(e.target.value);\n          }}\n        />\n        <br />\n        <textarea\n          placeholder=\"Comment\"\n          onChange={(e) => {\n            setcomment(e.target.value);\n          }}\n          cols=\"30\"\n          rows=\"10\"\n        />\n        <br />\n        <h6>Upload Image*</h6>\n        <input type=\"file\" encType=\"multipart/form-data\" onChange={onHandler} />\n        <br />\n        <button onClick={getSave}>Save</button>\n      </Card>\n      <br />\n      <br />\n      <div className=\"row\">\n        {userimage &&\n          userimage.map((props, i) => (\n            <tr>\n              <ImageMain\n                jdh={pagereload}\n                image={props.Image}\n                title={props.title}\n                comment={props.comment}\n                id={props._id}\n              />\n            </tr>\n          ))}\n      </div>\n    </>\n  );\n}\n\nexport default UserPost;\n"]},"metadata":{},"sourceType":"module"}